(this.webpackJsonpdashboard_proexe=this.webpackJsonpdashboard_proexe||[]).push([[0],{102:function(e,t,a){},15:function(e,t,a){e.exports={Container:"Description_Container__3h2B1",Detail:"Description_Detail__fg-d0",DetailHiddenM:"Description_DetailHiddenM__123vf",DetailHidden:"Description_DetailHidden__1qnCM",DetailHiddenS:"Description_DetailHiddenS__2vUDj"}},16:function(e,t,a){e.exports={Container:"User_Container__3piug",Detail:"User_Detail__2DkhX",DetailHidden:"User_DetailHidden__1d8ri",DetailHiddenS:"User_DetailHiddenS__2jlda",DetailHiddenM:"User_DetailHiddenM__wJ60L"}},205:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),i=a(25),s=a.n(i),o=a(19),l=a(34),d=a(6),u=(a(101),a(102),a(4)),j=a.n(u),_=a(9),b=a(2),m=a(207),p=a(28),O=function(e,t){return Object(p.a)(Object(p.a)({},e),t)},h={users:[],editUser:null,userForRemoval:null,isLoading:!1,error:!1};!function(e){e.FETCHING_DATA_START="FETCHING_DATA_START",e.FETCHING_DATA_SUCCESS="FETCHING_DATA_SUCCESS",e.FETCHING_DATA_FAIL="FETCHING_DATA_FAIL",e.ADD_USER="ADD_USER",e.REMOVE_USER="REMOVE_USER",e.SET_EDITED_USER="SET_EDITED_USER",e.EDIT_USER="EDIT_USER",e.SET_USER_TO_REMOVE="SET_USER_TO_REMOVE",e.SORT_USERS="SORT_USERS"}(n||(n={}));var f=function(e,t){return O(e,{isLoading:!0})},x=function(e,t){return O(e,{isLoading:!1,users:t.payload.users})},E=function(e,t){return O(e,{isLoading:!1,error:!0})},v=function(e,t){var a={id:Object(m.a)(),name:t.payload.name,email:t.payload.email,username:"no-name",city:"no-city"},n=Object(b.a)(e.users);return n.push(a),O(e,{users:n})},D=function(e,t){return O(e,{userForRemoval:t.payload.user})},S=function(e,t){var a=e.users.filter((function(e){return e.id!==t.payload.id}));return O(e,{users:a,userForRemoval:null})},T=function(e,t){return O(e,{editUser:t.payload.user})},y=function(e,t){var a=e.users.map((function(e){return e.id===t.payload.user.id?t.payload.user:e}));return O(e,{users:a,editUser:null})},C=function(e,t){var a=Object(b.a)(e.users);return a.sort((function(e,t){return e.username.localeCompare(t.username)})),O(e,{users:a})},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.FETCHING_DATA_START:return f(e);case n.FETCHING_DATA_SUCCESS:return x(e,t);case n.FETCHING_DATA_FAIL:return E(e);case n.ADD_USER:return v(e,t);case n.SET_USER_TO_REMOVE:return D(e,t);case n.REMOVE_USER:return S(e,t);case n.SET_EDITED_USER:return T(e,t);case n.EDIT_USER:return y(e,t);case n.SORT_USERS:return C(e);default:return e}},R=function(e){return{type:n.FETCHING_DATA_SUCCESS,payload:{users:e}}},g=function(e){return{type:n.SET_USER_TO_REMOVE,payload:{user:e}}},I=function(e){return{type:n.SET_EDITED_USER,payload:{user:e}}},F=function(){var e=Object(_.a)(j.a.mark((function e(t,a){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(a,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}(),A=function(){var e=Object(_.a)(j.a.mark((function e(t,a){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:"DELETE",headers:{"Content-type":"application/json"},body:JSON.stringify(a)});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}(),U="https://my-json-server.typicode.com/karolkproexe/jsonplaceholderdb/data",H=a(45),M=a.n(H),k=a(1),B=function(e){var t=e.children;return Object(k.jsxs)("div",{className:M.a.Wrapper,children:[Object(k.jsx)("h1",{className:M.a.Title,children:"Dashboard"}),Object(k.jsx)("div",{className:M.a.InnerWrapper,style:{minHeight:"".concat(window.innerHeight-200,"px")},children:t})]})},L=a(5),V=a(86),G=a.n(V),W=function(e){var t=e.text,a=e.bgColor,n=e.action;return Object(k.jsx)("button",{onClick:function(){n()},className:G.a.Btn,style:{backgroundColor:"".concat(a)},children:t})},w=a(12),q=a(29),P=a.n(q),J=function(e){var t=e.isVisible,a=e.toggleVisibility,n=e.children,c=Object(r.useCallback)((function(e){27===e.keyCode&&a()}),[]);return Object(r.useEffect)((function(){return t&&document.addEventListener("keydown",c,!1),function(){return document.removeEventListener("keydown",c,!1)}}),[c,t]),t?s.a.createPortal(Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:P.a.Overlay,onClick:function(){return a()}}),Object(k.jsx)("div",{className:P.a.Wrapper,children:Object(k.jsxs)("div",{className:P.a.Modal,children:[Object(k.jsx)("div",{className:P.a.ModalClose,children:Object(k.jsx)("button",{type:"button",className:P.a.ModalCloseButton,"data-dismiss":"modal","aria-label":"Close",onClick:function(){return a()},children:Object(k.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})}),n]})})]}),document.body):null},X=a(87),z=a.n(X),Q=function(){return Object(k.jsx)("div",{className:z.a.Loader,children:"Loading..."})},Z=a(24),K=a.n(Z),$=a(15),Y=a.n($),ee=function(){var e=Object(d.b)();return Object(k.jsxs)("div",{className:Y.a.Container,children:[Object(k.jsx)("div",{className:"".concat(Y.a.Detail," ").concat(Y.a.DetailHiddenS),children:"Id"}),Object(k.jsx)("div",{className:"".concat(Y.a.Detail," ").concat(Y.a.DetailHiddenS),children:"Name"}),Object(k.jsx)("div",{className:Y.a.Detail,children:Object(k.jsx)(W,{text:"Username",bgColor:"#007bff",action:function(){return e({type:n.SORT_USERS})}})}),Object(k.jsx)("div",{className:"".concat(Y.a.Detail," ").concat(Y.a.DetailHidden),children:"Email"}),Object(k.jsx)("div",{className:"".concat(Y.a.Detail," ").concat(Y.a.DetailHiddenM),children:"City"}),Object(k.jsx)("div",{className:Y.a.Detail,children:"Edit"}),Object(k.jsx)("div",{className:Y.a.Detail,children:"Delete"})]})},te=a(16),ae=a.n(te),ne=function(e){var t=e.user,a=e.handleDeleteClick,n=t.id,c=t.name,i=t.username,s=t.email,l=t.city,u=Object(d.b)(),j=Object(r.useCallback)((function(e){a(e)}),[t,a]);return Object(k.jsxs)("div",{className:ae.a.Container,children:[Object(k.jsx)("div",{className:"".concat(ae.a.Detail," ").concat(ae.a.DetailHiddenS),children:n}),Object(k.jsx)("div",{className:"".concat(ae.a.Detail," ").concat(ae.a.DetailHiddenS),children:c}),Object(k.jsx)("div",{className:ae.a.Detail,children:i}),Object(k.jsx)("div",{className:"".concat(ae.a.Detail," ").concat(ae.a.DetailHidden),children:s}),Object(k.jsx)("div",{className:"".concat(ae.a.Detail," ").concat(ae.a.DetailHiddenM),children:l}),Object(k.jsx)("div",{className:ae.a.Detail,children:Object(k.jsx)(o.b,{to:"/form",children:Object(k.jsx)(W,{text:"Edit",bgColor:"#ffc107",action:function(){return u(I(t))}})})}),Object(k.jsx)("div",{className:ae.a.Detail,children:Object(k.jsx)(W,{text:"Delete",bgColor:"#dc3545",action:function(){return j(t)}})})]})},re=a(46),ce=a.n(re),ie=function(e){var t=e.userForRemoval,a=e.toggleVisibility,r=Object(d.b)();return Object(k.jsxs)("div",{className:ce.a.Wrapper,children:[Object(k.jsx)("h2",{className:ce.a.Title,children:"Delete"}),Object(k.jsxs)("p",{className:ce.a.Question,children:["Do You want to delete user - ",t.name,"?"]}),Object(k.jsxs)("div",{style:{textAlign:"right"},children:[Object(k.jsx)(W,{text:"Delete",action:function(){var e;r((e=t.id,{type:n.REMOVE_USER,payload:{id:e}})),a(),A(U,t)},bgColor:"#dc3545"}),Object(k.jsx)(W,{text:"Cancel",action:function(){a(),r(g(null))},bgColor:"grey"})]})]})},se=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.users})),a=Object(d.c)((function(e){return e.isLoading})),n=Object(d.c)((function(e){return e.error})),c=Object(d.c)((function(e){return e.userForRemoval})),i=function(){var e=Object(r.useState)(!1),t=Object(w.a)(e,2),a=t[0],n=t[1];return{isVisible:a,toggleVisibility:function(){return n(!a)}}}(),s=i.isVisible,l=i.toggleVisibility,u=Object(r.useCallback)((function(t){l(),e(g(t))}),[c]),j=Object(r.useMemo)((function(){return function(e,t){return e.map((function(e){return Object(k.jsx)(ne,{user:e,handleDeleteClick:t},e.id)}))}(t,u)}),[t]);return Object(k.jsxs)(k.Fragment,{children:[s&&Object(k.jsx)(J,{isVisible:s,toggleVisibility:l,children:c&&Object(k.jsx)(ie,{userForRemoval:c,toggleVisibility:l})}),Object(k.jsxs)("div",{className:K.a.Wrapper,children:[Object(k.jsxs)("div",{className:K.a.TitleBar,children:[Object(k.jsx)("h2",{className:K.a.Title,children:"User list"}),Object(k.jsx)(o.b,{to:"/form",children:Object(k.jsx)(W,{text:"Add new",bgColor:"#007bff",action:function(){return e(I(null))}})})]}),a?Object(k.jsx)(Q,{}):Object(k.jsxs)("div",{className:K.a.Table,children:[Object(k.jsx)(ee,{}),t.length?j:n?Object(k.jsx)("p",{className:K.a.Info,children:"Sorry, data couldn't be loaded - please try later or check your url"}):Object(k.jsx)("p",{className:K.a.Info,children:"Sorry, there are no more users in the database."})]})]})]})},oe=a(43),le=a(91),de=a(48),ue=de.a().shape({name:de.b().required("This field is required").min(3,"Minimum 3 letters").matches(/^[aA-zZ\s]+$/,"Only alphabets are allowed for this field "),email:de.b().required("This field is required").matches(/^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,"Invalid email address")}),je=a(8),_e=a.n(je),be=function(){var e,t,a=Object(d.c)((function(e){return e.editUser})),r=Object(d.b)(),c=Object(L.f)(),i=Object(oe.b)({resolver:Object(le.yupResolver)(ue),mode:"all"}),s=i.register,o=i.handleSubmit,l=i.errors,u=i.setValue,j=function(){u("name",""),u("email",""),c.push("/")};return Object(k.jsxs)("div",{className:_e.a.Wrapper,children:[Object(k.jsx)("h2",{className:_e.a.Title,children:"Form"}),Object(k.jsxs)("form",{className:_e.a.Form,onSubmit:o((function(e){var t,c=e.name,i=e.email;if(a){var s=Object(p.a)(Object(p.a)({},a),{},{name:c,email:i});r((t=s,{type:n.EDIT_USER,payload:{user:t}})),F(s,U)}else{var o={name:c,email:i,id:"",city:"",username:""};r(function(e,t){return{type:n.ADD_USER,payload:{name:e,email:t}}}(c,i)),F(o,U)}j()})),children:[Object(k.jsxs)("div",{className:_e.a.InputGroup,children:[Object(k.jsx)("label",{className:_e.a.LabelRequired,children:"Name:"}),Object(k.jsx)("input",{className:_e.a.Input,ref:s,name:"name",type:"text",defaultValue:a?a.name:"",placeholder:"User name..."}),l.name&&Object(k.jsx)("p",{className:_e.a.ErrorField,children:null===(e=l.name)||void 0===e?void 0:e.message})]}),Object(k.jsxs)("div",{className:_e.a.InputGroup,children:[Object(k.jsx)("label",{className:_e.a.LabelRequired,children:"Email:"}),Object(k.jsx)("input",{className:_e.a.Input,ref:s,name:"email",type:"text",defaultValue:a?a.email:"",placeholder:"Email..."}),l.email&&Object(k.jsx)("p",{className:_e.a.ErrorField,children:null===(t=l.email)||void 0===t?void 0:t.message})]}),Object(k.jsxs)("div",{className:_e.a.ButtonsContainer,children:[Object(k.jsx)("button",{type:"button",onClick:function(){j()},className:"".concat(_e.a.Btn," ").concat(_e.a.Cancel),children:"Cancel"}),Object(k.jsx)("button",{type:"submit",className:_e.a.Btn,children:"Submit"})]})]})]})},me=a(47),pe=a.n(me),Oe=function(){var e=Object(L.g)();return Object(k.jsxs)("div",{className:pe.a.Container,children:[Object(k.jsxs)("h2",{className:pe.a.Info,children:["Sorry, no match found for ",Object(k.jsx)("code",{children:e.pathname})]}),Object(k.jsx)(o.b,{to:"/",className:pe.a.Back,children:"Back to main page"})]})},he=function(){return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(L.c,{children:[Object(k.jsx)(L.a,{path:"/form",component:be}),Object(k.jsx)(L.a,{exact:!0,path:"/",component:se}),Object(k.jsx)(L.a,{component:Oe})]})})};var fe=function(){var e=Object(d.b)();return Object(r.useEffect)((function(){var t;e((t=U,function(){var e=Object(_.a)(j.a.mark((function e(a){var r,c,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:n.FETCHING_DATA_START}),e.prev=1,e.next=4,fetch(t);case 4:return r=e.sent,e.next=7,r.json();case 7:c=e.sent,i=c.map((function(e){var t=e.id,a=e.name,n=e.username,r=e.email,c=e.address;return{id:t.toString(),name:a,username:n,email:r,city:c.city}})),a(R(i)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),a({type:n.FETCHING_DATA_FAIL});case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()))}),[]),Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(B,{children:Object(k.jsx)(he,{})})})},xe=a(92),Ee=Object(l.c)(N,Object(l.a)(xe.a));s.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(o.a,{basename:"/dashboard",children:Object(k.jsx)(d.a,{store:Ee,children:Object(k.jsx)(fe,{})})})}),document.getElementById("root"))},24:function(e,t,a){e.exports={Wrapper:"Dashboard_Wrapper__1lBnD",TitleBar:"Dashboard_TitleBar__EaKXS",Title:"Dashboard_Title__TKGAD",Table:"Dashboard_Table__3Oa0E",Info:"Dashboard_Info__hJCMm"}},29:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2arIc",Wrapper:"Modal_Wrapper__15mn_",Modal:"Modal_Modal__21cuI",ModalClose:"Modal_ModalClose__1n36e",ModalCloseButton:"Modal_ModalCloseButton__3TuKE"}},45:function(e,t,a){e.exports={Wrapper:"Layout_Wrapper__1P352",InnerWrapper:"Layout_InnerWrapper__3yBrX",Title:"Layout_Title__1Xe15"}},46:function(e,t,a){e.exports={Wrapper:"ModalContent_Wrapper__14BEI",Title:"ModalContent_Title__1S_dc",Question:"ModalContent_Question__1eI6i"}},47:function(e,t,a){e.exports={Container:"Page404_Container__2jO1v",Info:"Page404_Info__3eXj2",Back:"Page404_Back__36QFy"}},8:function(e,t,a){e.exports={Wrapper:"Form_Wrapper__15oqv",Title:"Form_Title__1HtGJ",Form:"Form_Form__1kE7P",InputGroup:"Form_InputGroup__3SRnw",Labrl:"Form_Labrl__29Bf_",LabelRequired:"Form_LabelRequired__2hjH3",Input:"Form_Input__19UPk",ErrorField:"Form_ErrorField__17R7V",ButtonsContainer:"Form_ButtonsContainer__SRj9W",Btn:"Form_Btn__3EhI6",Cancel:"Form_Cancel__nSVx4"}},86:function(e,t,a){e.exports={Btn:"Button_Btn__IGyEV"}},87:function(e,t,a){e.exports={Loader:"Spinner_Loader__WmReo",load6:"Spinner_load6__GyAXE",round:"Spinner_round__2miuh"}}},[[205,1,2]]]);
//# sourceMappingURL=main.b7ada3d0.chunk.js.map